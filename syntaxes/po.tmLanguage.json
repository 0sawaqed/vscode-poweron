{
	"$schema": "https://raw.githubusercontent.com/0sawaqed/vscode-poweron/master/tmlanguage.json",
	"name": "PowerOn",
	"patterns": [
		{
			"include": "#dataType"
		},
		{
			"include": "#keywords"
		},
		{
			"include": "#character"
		},
		{
			"include": "#variables"
		},
		{
			"include": "#comment"
		},
		{
			"include": "#operator"
		}
	],
	"repository": {
        "variables": {
            "patterns": [
                {
                    "include": "#variable"
                },
                {
                    "include": "#specfileVariable"
                }
            ]
        },
        "dataType": { 
            "patterns": [
                { "include": "#validDate" },
                { "include": "#validNumber" },
                { "include": "#invalidNumber" },
				{ "include": "#invalidDate" },
				{ "include": "#types" }
            ]
        },
		"keywords": {
			"patterns": [
				{
					"name": "keyword.control.po",
					"match": "\\b(if|while|for|return)\\b"
				},
                {
                    "include": "#keyword"
                },
                {
                    "include": "#SpecialFileMaintenanceKeywords"
                },
                {
                    "include": "#SpecialPowerOnLiterals"
                },
                {
                    "include": "#SpecialPowerOnKeywords"
                }
			]
		},
        "keyword": {
			"patterns": [{
            "name": "keyword.control.po",
			"match": "[\\s]*(ACROSS|AFTERLAST|ALL|APPEND|BEFOREFIRST|BELL|BLINK|BLOCKSIZE|BRIGHT|CALL|CHANGE|CLEARSERVICE|CLEARWARNING|CREATE|DATAFILE|DELETE|DIALOGCLOSE|DIALOGDISPLAY|DIALOGENDGROUPBOX|DIALOGENDGROUPING|DIALOGINTROTEXT|DIALOGNEWCOLUMN|DIALOGPROMPTCOMBOEND|DIALOGPROMPTLISTEND|DIALOGSTARTGROUPING|DIALOGTEXTLISTEND|DIVPROJECTCALC|ENTERDELIMITER|ENTERLINE|EVERY #|FORACCOUNT|FORMLENGTH|#INCLUDE|LABELS|LASTACCOUNT|LASTCREATE|LASTSEQUENCE|LEFT|LNInsFromSh|LOANPROJECTCALC|LOC|MICRACCOUNTNUMBER|MODIFY|NEWLINE|NEWPAGE|NEXTULI|NONANSISTANDARD|NONE|OVERDRAWAVAILABLECALC|OVERDRAWAVAILABLEINIT|PREFIX|PRINTCONTROL|PROCEDURE|END|TARGET|DEFINE|SETUP|SELECT|PRINT|SORT||READ|READWRITE|RECORDSIZE|REPORTCATEGORY|REVISE|RIGHT|SAVEMODE|SET|SETSERVICE|SETWARNING|STARTING|SUBTOTAL|SUPPRESS|TARGETFILE|TERMINATE|UNTIL|VIN|WINMESSAGESEND|WINMODETEXT|WINMODEWINDOWS|WRAP|WRITE)[\\s]+"
			}]
        },
        "SpecialFileMaintenanceKeywords": {
			"patterns": [{
            "name": "support.function.po",
			"match": "[\\s]*(AFTERLAST|BEFOREFIRST|CLEARSERVICE|CLEARWARNING|CHANGE|CREATE|DELETE|LASTACCOUNT|LASTCREATE|LOC|MODIFY|NEXT|NEXTACCOUNT|NEXTCARD|NEXTCHECK|NEXTCOLLATERAL|NEXTCTR|NEXTDOCUMENT|NEXTMBRADDRESS|NEXTSEQUENCE|PREFIX|REVISE|SET|SETSERVICE|SETWARNING)[\\s]+"
			}]
        },
        "SpecialPowerOnLiterals": {
			"patterns": [{
            "name": "support.type.po",
			"match": "[\\s]*(LIVEINSTCHECK|PREVSYSTEMDATE|SYSACTUALDATE|SYSACTUALTIME|SYSCLIENTNUMBER|SYSCONSOLENUM|SYSHOSTNAME|SYSMEMOMODE|SYSSYMDIRECTORY|SYSTEMDATE|SYSUSERNUMBER|SYSWINDOWSLEVEL)[\\s]+"
			}]
        },
        "SpecialPowerOnKeywords": {
			"patterns": [{
            "name": "support.class.po",
			"match": "[\\s]*(ACCOUNTCHANGE|ACS|ATMDIALOG|AUDIO|BATCH|CARDCREATIONWIZARD|CERTIFICATE|CHECKDISBURSEDWIZARD|COLLECTION|CUSTOMFORMS|CUSTOMFORMSWINDOWS|DEMAND|EXCPITEM|HOMEBANKING|MCW|MCWINTERACTIVE|STATELESS|SUBROUTINE|SYMCONNECT|VALIDATION|WINDOWS|WINDOWSPRINT|TITLE|HEADER|HEADERS)[\\s]+"
			}]
        },
		"character": {
			"name": "string.quoted.double.po",
			"begin": "\"",
			"end": "\"",
			"patterns": [
				{
					"name": "constant.character.escape.po",
					"match": "\\\\."
				}
			]
		},
		"comment": {
			"name": "comment.block.po",
			"begin": "\\[",
			"end": "]",
			"patterns": [
				{
					"include": "#comment"
				},
				{
					"name": "constant.character.escape.po",
					"match": "[\\\\.]+"
				}
			]
		},
        "types": {
			"patterns": [
				{
					"include": "#typesExtended"
				},
				{
				"name": "storage.type.po",
				"match": "(?i)[\\s]*(CHARACTER|CODE|DATE|FLOAT|MONEY|NUMBER|RATE)[\\s]"
				}
			]
        },
        "typesExtended": {
			"patterns": [{
            "name": "storage.modifier.po",
			"match": "(?i)(ARRAY)"
			}]
        },
        "operator": {
			"patterns": [
				{
					"include": "#equalOperator"
				},
				{
					"name": "support.function.po",
					"match": "(?i)(\\=|\\+|AND|OR|\\/|>|<|<=|>=|\\*|<>|\\|)"
				}
			]
		},
		"equalOperator": {
			"patterns": [{
            "name": "support.function.thing.po",
			"match": "="
			}]
		},
        "variable": {
			"patterns": [{
				"name": "variable.object.property.po",
				"match": "([A-Za-z]+)"
			}]
        },
        "specfileVariable": {
			"patterns": [{
				"name": "variable.object.property.po",
				"match": "(@[A-Za-z]+)"
			}]
        },
        "validDate": {
			"patterns": [{
				"name": "constant.date.dataType.po",
				"match": "'([0-9\\-]{2}\/[0-9\\-]{2}\/(([0-9\\-]{2})|([0-9]{4})))'"
			}]
        },
        "invalidDate": {
			"patterns": [{
				"name": "constant.date.invalid.dataType.po",
				"match": "'.*'"
			}]
        },
        "validNumber": {
			"patterns": [{
				"name": "constant.numeric.dataType.po",
				"match": "[0-9]+"
			}]
        },
        "invalidNumber": {
			"patterns": [{
				"name": "constant.numeric.invalid.dataType.po",
				"match": "[0-9]+[^0-9]+.*"
			}]
        }
	},
	"scopeName": "source.po"
}
